(window.driftWebpackJsonp=window.driftWebpackJsonp||[]).push([[13],{1450:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n.n(r),s=n(4),a=n.n(s),i=n(161),l=n.n(i),c=n(149),u=n.n(c),p=n(207),d=n.n(p),m=n(206),h=n.n(m),f=n(205),v=n.n(f),g=n(15),b=n.n(g),y=n(302),C=n.n(y),E=n(61),P=n(256),w=n(1545),T=n(1623),A=n(1620),M=n(1571),k=n.n(M),O=n(527),I=n(3),_=n(1561),N=n(1607),j=n(1604),x=n(1608),S=n(1766),D=n(60),L=function(e){function t(){var e,n,r,o;u()(this,t);for(var s=arguments.length,a=Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=r=h()(this,(e=t.__proto__||l()(t)).call.apply(e,[this].concat(a))),r.state={step:1,body:void 0,email:void 0},r.handleComposerSubmit=function(e){r.preMessageBody=Object(O.findDOMNode)(r._bodyNode).innerHTML,r.setState({body:e,step:2})},r.handleEmailCaptureSubmit=function(e){var t=e.email,n=r.props,o=n.onSubmit,s=n.sender,a=n.users;o&&o({body:r.state.body,attributes:{preMessages:[{body:r.preMessageBody,sender:s,senders:a}]},email:t})},o=n,h()(r,o)}return v()(t,e),d()(t,[{key:"renderMessage",value:function(){var e=this;switch(this.state.step){case 1:return b.a.createElement(k.a,{ref:function(t){e._bodyNode=t},properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},this.props.message);case 2:return S.a.renderTitle();default:return}}},{key:"renderTitle",value:function(){var e=this.props,t=e.organizationName,n=e.users;return this.state.step>1?null:!n||n.isEmpty()||1===n.size&&!n.first().name||n.every(function(e){return!e.name})?b.a.createElement("span",null,t):b.a.createElement(x.a,{users:this.props.users})}},{key:"renderStep",value:function(){var e=D.k.AWAY_MESSAGE_COMPOSER;if(this.props.isMobile)return b.a.createElement(N.a,{placeholder:"Enter your email",onMouseDown:this.props.onInputMouseDown,utmContent:e});switch(this.state.step){case 1:return b.a.createElement(_.a,{size:"medium",variant:"minimal",isAway:!0,minRows:2,maxRows:5,autoFocus:!1,onSubmit:this.handleComposerSubmit,hasActiveBorderOnFocus:!1,utmContent:e});case 2:return b.a.createElement(S.a,{backgroundColor:this.props.backgroundColor,textColor:this.props.textColor,endUser:this.props.endUser,onSubmit:this.handleEmailCaptureSubmit});default:return}}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.backgroundColor,r=e.foregroundColor,o=e.showProfileIcon,s=e.onProfileClick,a=e.showDismissIcon,i=e.onDismissClick;return b.a.createElement(j.a,{users:1===this.state.step?t:void 0,backgroundColor:n,foregroundColor:r,showProfileIcon:1===this.state.step&&o,onProfileClick:s,title:this.renderTitle(),message:this.renderMessage(),showDismissIcon:a,onDismissClick:i},this.renderStep())}}]),t}(g.Component);L.propTypes={isMobile:g.PropTypes.bool,awayMessageActive:g.PropTypes.bool,sender:g.PropTypes.object,users:g.PropTypes.object,backgroundColor:g.PropTypes.string,foregroundColor:g.PropTypes.string,textColor:g.PropTypes.string,showProfileIcon:g.PropTypes.bool,organizationName:g.PropTypes.string,onProfileClick:g.PropTypes.func,showDismissIcon:g.PropTypes.bool,onDismissClick:g.PropTypes.func,onInputMouseDown:g.PropTypes.func,onSubmit:g.PropTypes.func},L.defaultProps={users:Object(I.List)()};var F=L,B=n(59),z=n(16),R=n(1555),U=n(79),H=n(158),W=n(170),q=n(152),V=n(5),K=n(34),Z=n(7),G=n(150),Q=n(23),Y=n(162),X=n(25),J=n(43),$=function(e){function t(){var e,n,r,s;u()(this,t);for(var i=arguments.length,c=Array(i),p=0;p<i;p++)c[p]=arguments[p];return n=r=h()(this,(e=t.__proto__||l()(t)).call.apply(e,[this].concat(c))),r.handleResize=function(e){var t=e.height;r.props.actions.iframeOverrideSize({height:t+"px"})},r.handleClick=function(){!r.props.hasInteracted&&r.props.isDefaultGreeting&&r.props.actions.trackImpression({source:Y.a.LIVE_CHAT}),r.props.actions.setHasInteracted({hasInteracted:!0}),r.props.awayMessageActive?r.props.actions.hideAwayMessage():r.props.actions.openChat()},r.handleProfileClick=function(){r.props.actions.hideAwayMessage(),r.props.actions.goToConversationList()},r.handleInputMouseDown=function(e){Object(G.b)()&&(e.preventDefault(),r.props.actions.hideAwayMessage(),r.props.actions.goToNewConversation())},r.handleSubmit=function(e){var t=e.body,n=e.attributes,s=void 0===n?{}:n,i=e.email,l=r.props,c=l.orgId,u=l.endUser,p=l.anonymousId,d=l.isTriggeredFromAPI,m=l.onlineReason;u&&"LEAD"!==u.type||r.props.actions.identifyLead(c,p,i),r.props.actions.createConversation({body:t,attributes:a()({},s,o()({email:i,isTriggeredFromAPI:d,onlineReason:m},X.i,!0))}),setTimeout(function(){r.props.actions.hideAwayMessage()},2500)},s=n,h()(r,s)}return v()(t,e),d()(t,[{key:"renderAwayMessage",value:function(){if(!this.props.awayMessageActive)return null;var e=this.props,t=e.endUser,n=e.backgroundColor,r=e.foregroundColor,o=e.textColor,s=e.users,a=e.sender,i=e.message,l=e.showProfileIcon,c=e.organizationName;return b.a.createElement(F,{isMobile:Object(G.b)(),message:i,endUser:t,users:s,sender:a,backgroundColor:n,foregroundColor:r,textColor:o,showProfileIcon:l,organizationName:c,onProfileClick:this.handleProfileClick,showDismissIcon:Object(G.b)(),onDismissClick:this.handleClick,onSubmit:this.handleSubmit,onInputMouseDown:this.handleInputMouseDown})}},{key:"render",value:function(){var e=Object(G.b)()?A.a:T.a;return b.a.createElement(e,{buttonId:this.props.awayMessageActive?"widgetCloseButton":void 0,ariaMessage:this.props.awayMessageActive?"Close the message area":"Open the message area",ariaHasPopup:"dialog",onResize:this.handleResize,onClick:this.handleClick},this.renderAwayMessage())}}]),t}(g.Component);$.propTypes={welcomeMessageActive:g.PropTypes.bool,users:g.PropTypes.object,sender:g.PropTypes.object,message:g.PropTypes.node,backgroundColor:g.PropTypes.string,foregroundColor:g.PropTypes.string,textColor:g.PropTypes.string,awayMessageActive:g.PropTypes.bool,showProfileIcon:g.PropTypes.bool,endUser:g.PropTypes.object,anonymousId:g.PropTypes.string,orgId:g.PropTypes.number,organizationName:g.PropTypes.string,isTriggeredFromAPI:g.PropTypes.bool,actions:g.PropTypes.shape({showAwayMessage:g.PropTypes.func.isRequired,hideAwayMessage:g.PropTypes.func.isRequired,iframeOverrideSize:g.PropTypes.func.isRequired,createConversation:g.PropTypes.func.isRequired,identifyLead:g.PropTypes.func.isRequired,goToConversationList:g.PropTypes.func.isRequired,goToNewConversation:g.PropTypes.func.isRequired,openChat:g.PropTypes.func.isRequired})};t.default=C()(Object(w.a)(["activeColor","textColor","foregroundColor","backgroundColor"]),Object(P.b)(function(e){return{awayMessageActive:e.AwayMessage.active,showProfileIcon:!Object(K.e)(e).isEmpty(),orgId:e.Bootstrap.orgId,endUser:e.EndUser.currentEndUser,anonymousId:e.Bootstrap.anonymousId,message:Object(q.a)(e),thankYouMessage:Object(q.i)(e),organizationName:Object(z.p)(e),sender:Object(q.g)(e),users:Object(q.h)(e),isTriggeredFromAPI:function(e){return function(e){return e.AwayMessage}(e).triggeredFromWidgetAPI}(e),onlineReason:Object(Z.d)(e),hasInteracted:Object(J.i)(e),isDefaultGreeting:!Object(V.B)(e)}},function(e){return{actions:Object(E.b)({showAwayMessage:H.showAwayMessage,hideAwayMessage:H.hideAwayMessage,createConversation:B.a,iframeOverrideSize:U.iframeOverrideSize,identifyLead:W.e,goToConversationList:U.goToConversationList,goToNewConversation:U.goToNewConversation,openChat:U.openChat,trackImpression:Q.g,setHasInteracted:R.a},e)}}))($)},1545:function(e,t,n){"use strict";var r=n(256),o=n(302),s=n.n(o),a=n(528),i=n(7);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["foregroundColor","backgroundColor","activeColor","textColor"];return Object(r.b)(s()(function(e){return function(t){return Object(a.a)(t,e)}}(e),i.A),function(){return{}})}},1546:function(e,t,n){"use strict";(function(e){var r=n(10),o=n.n(r),s=n(4),a=n.n(s),i=n(432),l=n.n(i),c=n(31),u=n(1542),p=n.n(u),d=n(256),m=n(61),h=n(1558),f=n.n(h),v=n(302),g=n.n(v),b=n(23),y=n(43),C=n(11),E=n(7),P=n(1553),w=n.n(P),T=n(183),A=n(1552),M=n.n(A),k="rgb(154, 154, 154)",O="rgb(9, 96, 197)";t.a=g()(Object(d.b)(function(e){return{utmSource:e.Targeting.page.hostname,isEmbeddedMessenger:Object(y.h)(e),orgId:Object(E.w)(e)}},function(e){return{actions:Object(m.b)({trackClick:b.f},e)}}),f()({onClick:function(e){return function(t){t.stopPropagation(),e.actions.trackClick({view:e.utmContent,ctaType:"branding"})}}}))(function(t){var n=t.className,r=t.message,s=void 0===r?T.a.poweredBy:r,i=t.utmContent,u=t.utmSource,d=void 0===u?"widget":u,m=t.onClick,h=t.isEmbeddedMessenger,f=t.orgId,v=t.colorMode,g={utm_source:d,utm_medium:"web-widget",utm_campaign:"widget-referral",utm_content:i},b=e.createElement("span",null,e.createElement("span",{className:M.a.SROnly},"powered"),e.createElement("span",{"aria-hidden":"true"},e.createElement(p.a,{className:M.a.BoltIcon,src:w.a}))),y=f>1?"?"+Object(C.c)(g):"",E=e.createElement("div",{className:M.a.Drift},e.createElement("span",{className:M.a.Drift},"Drift")),P=e.createElement(c.b,a()({},s,{values:{bolt:b,drift:E}}));return e.createElement("a",{onFocus:function(e){e.target.style.color=h?"#ffffff":O},onBlur:function(e){e.target.style.color=h?"rgba(255,255,255,0.8)":k},className:l()("flex",M.a.Branding,n,{floating:h},o()({},M.a.BrandingLight,"LIGHT"===v||"VIDEO"===v)),href:"https://www.drift.com/powered-by"+y,target:"_blank",onClick:m},P)})}).call(this,n(15))},1547:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n(208),o=n.n(r),s=n(4),a=n.n(s),i=n(15),l=n(31),c=Object(l.h)({composerPlaceholder:{id:"app.composer.placeholder",description:"Placeholder text in the Composer",defaultMessage:"Type your message…"},composerLeaveMessageForPlaceholder:{id:"app.composer.leaveMessageForPlaceholder",description:"Placeholder text displayed in existing conversations when offline",defaultMessage:"Leave a message for {name}"},composerLeaveMessagePlaceholder:{id:"app.composer.leaveMessagePlaceholder",description:"Placeholder text displayed in new conversations when offline",defaultMessage:"Leave a message…"},composerReplyToPlaceholder:{id:"app.composer.replyToPlaceholder",description:"Placeholder text displayed in existing conversations",defaultMessage:"Reply to {name}"},composerLeaveMessage:{id:"app.composer.leaveMessage",description:"Action button to leave a message",defaultMessage:"Leave Message"},composerSendMessage:{id:"app.composer.sendMessage",description:"Action button to send a message",defaultMessage:"Send Message"},composerDisabledForConversation:{id:"app.composer.disabledForConversation",description:"Disabled composer prompt forever for this conversation",defaultMessage:"Cannot respond to this conversation"},composerDisabledUseButtons:{id:"app.composer.disabledUseButtons",description:"Disabled composer prompt to point the user at buttons",defaultMessage:"Choose an option above..."},composerBrandingChatWith:{id:"app.composer.footer.chatWith",description:"Alternate branding with simple chat prompt",defaultMessage:"Chat with {orgName}"},returnKey:{id:"system.key.return",description:"The return key on the keyboard",defaultMessage:"return"},enterKey:{id:"system.key.enter",description:"The enter key on the keyboard",defaultMessage:"enter"},sendKeyHint:{id:"app.composer.sendKeyHint",description:"Hint text for sending messages by hitting the return/enter key",defaultMessage:"{key} to send"}});function u(t){var n=function(n){var r=n.intl,s=n.conversationLastDriftUser,i=n.isAway,l=n.disabled,u=n.disabledPrompt,p=n.isConversationPermaclosed,d=n.placeholder,m=o()(n,["intl","conversationLastDriftUser","isAway","disabled","disabledPrompt","isConversationPermaclosed","placeholder"]),h=d;return h=p?r.formatMessage(c.composerDisabledForConversation):l&&u?r.formatMessage(c.composerDisabledUseButtons):s&&s.name?i?r.formatMessage(c.composerLeaveMessageForPlaceholder,{name:s.name}):r.formatMessage(c.composerReplyToPlaceholder,{name:s.name}):i?r.formatMessage(c.composerLeaveMessagePlaceholder):r.formatMessage(c.composerPlaceholder),e.createElement(t,a()({placeholder:h,isAway:i,disabled:l,disabledPrompt:u},m))};return n.propTypes={intl:l.j.isRequired},Object(l.i)(n)}i.PropTypes.bool.isRequired}).call(this,n(15))},1549:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e5;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now())-e<=t},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:72e5;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now())-e>=t},s={ONLINE:"online",OFFLINE:"offline",LAST_ACTIVE:"lastActive"},a=function(e){var t=e.lastActivityAt;return o(t)?s.OFFLINE:r(t)?s.ONLINE:s.LAST_ACTIVE}},1550:function(e,t,n){"use strict";var r=n(161),o=n.n(r),s=n(149),a=n.n(s),i=n(207),l=n.n(i),c=n(206),u=n.n(c),p=n(205),d=n.n(p),m=n(15),h=n.n(m),f=n(432),v=n.n(f),g=n(1569),b=n(69),y=n.n(b),C=n(256),E=n(61),P=n(151),w=n(184),T=n(232),A=n(1549),M=n(1568),k=n.n(M),O=function(e){function t(){return a()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.statusFetched,n=e.user;n&&n.id&&(t||this.props.actions.fetchAgentStatus(n.id))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.lastActivityAt,r=e.hideOfflineStatus,o=void 0!==r&&r,s=e.largePresenceDot,a=void 0!==s&&s,i=Object(A.b)({lastActivityAt:n}),l=v()(k.a["presence-dot-outer"],{online:i===A.a.ONLINE,offline:i!==A.a.ONLINE,hidden:i!==A.a.ONLINE&&o,small:!a,large:a});return h.a.createElement("div",{className:l,style:t},h.a.createElement("div",{className:k.a["presence-dot-inner"]}))}}]),t}(h.a.Component);O.propTypes={fetchAgentStatus:y.a.func,user:y.a.object,style:y.a.shape({backgroundColor:y.a.string}),availability:y.a.oneOf([T.b.AVAILABLE,T.b.OFFLINE,T.b.ON_CALL]),lastActivityAt:y.a.number,largePresenceDot:y.a.bool};var I=Object(C.b)(function(e,t){var n=Object(P.a)(e,{agentId:t.user.id});return{availability:n.availability,lastActivityAt:n.lastActivityAt,statusFetched:n.fetched}},function(e){return{actions:Object(E.b)({fetchAgentStatus:w.a},e)}})(O),_=n(1566),N=n.n(_),j=n(1565),x=n.n(j);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attributes,n=e.socialProfile,r=!!t&&(t.get?t.get("avatar_url",!1):t.avatar_url),o=!!n&&(n.get?n.get("avatar",!1):n.avatar);return e.avatars&&e.avatars.image200||e.avatarUrl||r||o}function D(e){return!!S(e)}n.d(t,"b",function(){return D});var L=function(e){function t(){return a()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"renderUserImage",value:function(e){if(!e)return null;var t=S(e);return t?h.a.createElement("div",{className:"avatar-image",style:{backgroundImage:"url("+t+"), url("+N.a+")"}}):void 0}},{key:"renderUserInitials",value:function(e){var t=this.props.showInitials,n=Object(g.getInitials)(e);if(t&&n)return h.a.createElement("div",{className:"default"},h.a.createElement("div",{className:v()("initials",{endUser:!!e.socialProfile})},n))}},{key:"renderDefaultAvatar",value:function(){return h.a.createElement("img",{className:"default-avatar",src:N.a})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.shape,r=e.size,o=e.style,s=e.selected,a=e.showPresence,i=e.color,l=e.ariaLabel,c=void 0===l?"Avatar image":l,u=e.ariaHidden,p=void 0===u?"false":u,d=e.hideOfflineStatus,m=void 0!==d&&d,f=e.largePresenceDot,g=void 0!==f&&f,b=this.renderUserImage(t),y=this.renderUserInitials(t),C=v()("Avatar",x.a[n],r,{selected:s,default:!b});return h.a.createElement("div",{className:C,style:o,role:"img","aria-hidden":p,"aria-label":c},b||(y||this.renderDefaultAvatar()),a&&h.a.createElement(I,{largePresenceDot:g,user:t,hideOfflineStatus:m,style:{backgroundColor:o&&o.borderColor||i}}))}}]),t}(m.Component);L.propTypes={user:m.PropTypes.object,size:m.PropTypes.oneOf(["extra-small","small","medium","large","extra-large","jumbo"]),shape:m.PropTypes.oneOf(["circle","square"]),showInitials:m.PropTypes.bool,style:m.PropTypes.object,selected:m.PropTypes.bool,largePresenceDot:m.PropTypes.bool},L.defaultProps={showInitials:!1,shape:"square"};t.a=L},1552:function(e,t,n){e.exports={Branding:"_3RTrQ3IDR23myw-Pih9iTm",Drift:"_2DnvFT67sVeWYiwhwHqUWR",BrandingLight:"_2rtHuPAvI-WQ_jSCIE91Mz",BoltIcon:"_2-Nax0W7eNYVpRQlg-K1Ud",SROnly:"VKsDPw3lGyZWHZWhQ7Yfh"}},1553:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.15 12.64"><g data-name="Layer 2"><g data-name="Layer 1"><path fill="#fcf4a0" d="M6.58.75L.75 7.06h3.54l-1.95 4.83L8.4 5.24H4.57L6.58.75z"></path><path d="M6.58.75l-2 4.49H8.4l-6.06 6.65 2-4.83H.75L6.58.75m0-.75a.67.67 0 0 0-.37.11.65.65 0 0 0-.21.13L.2 6.55a.75.75 0 0 0 .55 1.26h2.43l-1.54 3.8a.76.76 0 0 0 .3.92.8.8 0 0 0 .4.11.74.74 0 0 0 .55-.24L9 5.75a.75.75 0 0 0-.6-1.26H5.73L7.24 1.1a.68.68 0 0 0 .09-.35.75.75 0 0 0-.74-.75zm0 1.5z" fill="#f4a51f"></path></g></g></svg>'},1555:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var r=n(2),o=n(303),s=Object(r.b)(o.a),a=Object(r.b)(o.b)},1556:function(e,t){e.exports='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M9.502 8.5l7.29 7.29c.277.278.277.727 0 1.003-.137.138-.32.207-.5.207s-.362-.07-.5-.207L8.5 9.503l-7.29 7.29c-.14.138-.32.207-.5.207-.183 0-.364-.07-.502-.207-.277-.276-.277-.725 0-1.002l7.29-7.29-7.29-7.29C-.07.932-.07.483.208.206c.277-.276.725-.276 1 0L8.5 7.497l7.29-7.29c.277-.276.725-.276 1.002 0 .277.277.277.726 0 1.002L9.502 8.5z" fill-rule="evenodd"></path></svg>'},1560:function(e,t,n){"use strict";(function(e){var r=n(15),o=n(1550),s=n(1603),a=function(t){var n=t.user,r=t.color,a=t.shape,i=t.size,l=t.style,c=t.ariaHidden,u=t.showInitials,p=t.showPresence,d=t.hideOfflineStatus,m=void 0!==d&&d,h=t.largePresenceDot,f=void 0!==h&&h;if(n&&n.bot&&!n.avatarUrl){var v="square"===a?"rect":a;return e.createElement(s.a,{className:"Avatar",type:v,color:r,style:l,ariaHidden:c})}return e.createElement(o.a,{user:n,largePresenceDot:f,hideOfflineStatus:m,size:i,shape:a,style:l,color:r,ariaHidden:c,showInitials:u,showPresence:p})};a.displayName="AvatarOrBotAvatar",a.propTypes={user:r.PropTypes.object,color:r.PropTypes.string,shape:r.PropTypes.oneOf(["circle","square"]),size:r.PropTypes.oneOf(["small","medium","large","extra-large","jumbo"]),style:r.PropTypes.object},a.defaultProps={shape:"circle",size:"small"},t.a=a}).call(this,n(15))},1561:function(e,t,n){"use strict";(function(e){var r=n(10),o=n.n(r),s=n(161),a=n.n(s),i=n(149),l=n.n(i),c=n(206),u=n.n(c),p=n(207),d=n.n(p),m=n(205),h=n.n(m),f=n(256),v=n(61),g=n(432),b=n.n(g),y=n(1572),C=n.n(y),E=n(1601),P=n(1548),w=n.n(P),T=n(1546),A=n(1600),M=n(1596),k=n(1593),O=n(1589),I=n(1588),_=n(302),N=n.n(_),j=n(1545),x=n(70),S=n(16),D=n(108),L=n(5),F=n(7),B=n(43),z=n(210),R=n(1640),U=n.n(R),H=n(1547),W=n(1573),q=n(150),V=n(79),K=n(9),Z=n(1583),G=n.n(Z),Q=n(1581),Y=n.n(Q),X=e,J=X.Component,$=X.PropTypes,ee=function(t){function n(e){l()(this,n);var t=u()(this,(n.__proto__||a()(n)).call(this,e));return t.getShouldRenderEnterPrompt=function(){return t.state.input.trim().length>0},t.onKeyDown=function(e){13!=e.which&&13!=e.keyCode||e.shiftKey||t.handleSubmit(e)},t.handleInputChange=function(e){var n=e.target.value;return t.setState({input:n}),t.props.onChange&&t.props.onChange(n)},t.isEmbeddedMessengerWithoutContent=function(){return t.props.isEmbeddedMessenger&&!t.props.hasContent},t.handleFocus=function(){if(t.setState({focus:!0,emojiDrawerActive:!1}),t.props.actions.bootstrapEndUser(),Object(q.c)()&&!t.isEmbeddedMessengerWithoutContent()){var e=setInterval(function(){window.parent.postMessage({type:"requestHeight"},"*")},200);setTimeout(function(){return clearInterval(e)},2e3)}return t.props.onFocus&&t.props.onFocus()},t.handleBlur=function(){return t.setState({focus:!1}),Object(q.c)()&&t.props.actions.iframeOverrideSize({height:"100%"}),t.props.onBlur&&t.props.onBlur()},t.handleComposerMouseDown=function(e){return"function"==typeof t.props.onInputMouseDown?t.props.onInputMouseDown(e):void 0},t.handleAttachmentIconClick=function(){return t.dropZone.open()},t.handleEmojiMenuButtonClick=function(){return t.setState(function(e){return{emojiDrawerActive:!e.emojiDrawerActive}})},t.handleEmojiSelect=function(e){return t.setState(function(t){var n=t.input+" "+e.native+" ";return this.textarea.value=n,{emojiDrawerActive:!1,input:n}})},t.handleSubmit=function(e){if(e.preventDefault(),!t.props.disabled){var n=t.textarea.value.trim();return n&&"success"===t.props.connectionStatus?(t.setState({input:"",emojiDrawerActive:!1}),t.textarea.value="",t.props.onSubmit&&t.props.onSubmit(Object(E.a)(n))):void 0}},t.state={input:"",focus:!1,emojiDrawerActive:!1},t}return h()(n,t),d()(n,null,[{key:"initClass",value:function(){this.propTypes={onSubmit:$.func,onChange:$.func,onFocus:$.func,onInputMouseDown:$.func,onUploadAttachment:$.func,conversation:$.object,conversationLastDriftUser:$.object,placeholder:$.string,activeColor:$.string,showBranding:$.bool,hasActiveBorderOnFocus:$.bool,isAway:$.bool,size:$.oneOf(["medium","large"]),variant:$.oneOf(["regular","minimal"]),minRows:$.number,maxRows:$.number,autoFocus:$.bool,disabled:$.bool,disabledPrompt:$.bool,connectionStatus:$.oneOf(["pending","failure","success"]).isRequired,actions:$.shape({bootstrapEndUser:$.func.isRequired}).isRequired},this.defaultProps={showBranding:!0,isAway:!1,size:"large",variant:"regular",autoFocus:!Object(q.b)(),disabled:!1,disabledPrompt:!1,minRows:1,maxRows:5,hasActiveBorderOnFocus:!0}}}]),d()(n,[{key:"shouldRenderActiveComposerBorderColor",value:function(){return this.props.hasActiveBorderOnFocus&&this.state.focus&&!this.props.disabled&&!this.props.isEmbeddedMessenger}},{key:"renderBranding",value:function(){return e.createElement("div",{key:"branding",className:b()("flex",this.props.variant,G.a.Branding)},e.createElement(T.a,{utmContent:this.props.utmContent,colorMode:this.props.colorMode}))}},{key:"renderEnterPrompt",value:function(){var t=this.props,n=t.connectionStatus,r=t.activeColor,o=t.isAway,s=t.isEmbeddedMessenger;if(!s||!Object(q.d)())return"success"===n&&s?e.createElement("div",{key:"enter-prompt",className:b()("new-enter-prompt",{"new-enter-prompt-clp":s})},e.createElement("button",{className:b()("send-button",{"send-button-clp":s}),onClick:this.handleSubmit},e.createElement("img",{src:Y.a}))):e.createElement("div",{key:"enter-prompt",className:"enter-prompt"},"success"===n&&e.createElement(I.a,{color:r,onClick:this.handleSubmit,isAway:o}),"success"!==n&&e.createElement(O.a,{style:{marginTop:"2px",display:"flex"}}))}},{key:"renderPrivacyFooter",value:function(){var t=Object(K.a)(this.props,"currentConsentPolicy.privacyPolicyLink"),n=Object(K.a)(this.props,"currentConsentPolicy.privacyPolicyLinkText");return e.createElement("div",{className:"privacy-footer"},e.createElement("a",{href:t,target:"_blank",className:b()("privacy-footer-link",{"privacy-footer-link-light":"LIGHT"===this.props.colorMode}),rel:"noopener noreferrer"},n||"Privacy Policy"))}},{key:"renderComposer",value:function(){var t,n,r,s=this,a=this.props.isEmbeddedMessenger?"floating":"default",i=Object(K.a)(this.props,"currentConsentPolicy.privacyPolicyLink");return e.createElement("div",{className:b()("Composer",this.props.variant,a,(t={},o()(t,G.a.hasActiveBorderOnFocus,this.props.hasActiveBorderOnFocus),o()(t,"disabled",this.props.disabled&&this.props.disabledPrompt),o()(t,"mobile",Object(q.d)()),t)),style:{borderTopColor:this.shouldRenderActiveComposerBorderColor()?""+this.props.activeColor:void 0}},null!=this.props.conversation&&this.props.allowFileUpload&&e.createElement(W.a,{uploadNewFile:this.handleAttachmentIconClick}),e.createElement("div",{className:"flex-column"},e.createElement("div",{className:"enter-to-send"},e.createElement("div",{className:b()(G.a["Floating-label"],(n={},o()(n,G.a["Floating-label-active"],this.state.focus||this.textarea&&this.textarea.value),o()(n,G.a["Floating-label-light"],"LIGHT"===this.props.colorMode||"VIDEO"===this.props.colorMode),o()(n,G.a["Floating-label-disabled"],this.props.disabled),n)),ref:function(e){return s.floatingLabel=e}},this.props.placeholder),e.createElement("div",{className:"composer-container"},e.createElement(C.a,{ref:function(e){return s.textarea=e},"aria-label":this.props.placeholder,className:b()(G.a["Composer-textarea"],(r={},o()(r,G.a["Composer-textarea-light"],"LIGHT"===this.props.colorMode||"VIDEO"===this.props.colorMode),o()(r,G.a["Composer-textarea-video"],"VIDEO"===this.props.colorMode),o()(r,this.props.size,!this.props.isEmbeddedMessenger),r)),disabled:this.props.disabled,minRows:this.props.minRows,maxRows:this.props.maxRows,tabIndex:1e3,size:this.props.size,autoFocus:this.props.autoFocus,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.props.onInputMouseDown,onKeyDown:this.onKeyDown}),!!Object(q.b)()&&this.getShouldRenderEnterPrompt()&&e.createElement("div",{className:"inline-send-button",onClick:this.handleSubmit},e.createElement("img",{src:Y.a})))),e.createElement("div",{className:G.a["Composer-footer"]},e.createElement(A.a,{color:this.props.activeColor,floating:this.props.isEmbeddedMessenger,allowAttachments:null!=this.props.conversation&&this.props.allowFileUpload,allowEmoji:null!=this.props.conversation&&!Object(q.b)(),disabled:this.props.disabled,onAttachmentClick:this.handleAttachmentIconClick,onEmojiClick:this.handleEmojiMenuButtonClick,emojiDrawerActive:this.state.emojiDrawerActive,colorMode:this.props.colorMode}),e.createElement("div",{className:"footer"},e.createElement(w.a,{transitionName:"footer",transitionEnterTimeout:150,transitionLeaveTimeout:150}),!this.getShouldRenderEnterPrompt()&&this.props.showBranding&&!this.props.driftVideoMode&&this.renderBranding())),e.createElement("div",null,e.createElement(w.a,{transitionName:"footer",transitionEnterTimeout:150,transitionLeaveTimeout:150}),(Object(K.a)(this.props,"currentConsentPolicy.privacyPolicyAlwaysOn")||this.props.isEmbeddedMessenger)&&i&&this.renderPrivacyFooter()),e.createElement(M.a,{isOpen:this.state.emojiDrawerActive},e.createElement(k.a,{onSelect:this.handleEmojiSelect}))))}},{key:"renderInlineMobileComposer",value:function(){var t=this,n=Object(K.a)(this.props,"currentConsentPolicy.privacyPolicyLink");return e.createElement("div",{className:b()("Composer","InlineMobileComposer",{disabled:this.props.disabled&&this.props.disabledPrompt})},null!=this.props.conversation&&this.props.allowFileUpload&&e.createElement(W.a,{uploadNewFile:this.handleAttachmentIconClick}),e.createElement("div",{className:"enter-to-send-mobile"},e.createElement(A.a,{color:this.props.activeColor,floating:this.props.isEmbeddedMessenger,allowAttachments:null!=this.props.conversation&&this.props.allowFileUpload,allowEmoji:!1,disabled:this.props.disabled,onAttachmentClick:this.handleAttachmentIconClick,onEmojiClick:this.handleEmojiMenuButtonClick,emojiDrawerActive:this.state.emojiDrawerActive,colorMode:this.props.colorMode}),e.createElement(C.a,{ref:function(e){return t.textarea=e},"aria-label":this.props.placeholder,className:b()(G.a["Composer-textarea"]),disabled:this.props.disabled,minRows:this.props.minRows,maxRows:this.state.input?3:1,tabIndex:1e3,size:this.props.size,autoFocus:this.props.autoFocus,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.props.onInputMouseDown,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder}),this.getShouldRenderEnterPrompt()&&e.createElement("div",{className:"inline-send-button",onClick:this.handleSubmit},e.createElement("img",{src:Y.a})),!this.getShouldRenderEnterPrompt()&&this.props.showBranding&&this.renderBranding()),!this.state.focus&&(Object(K.a)(this.props,"currentConsentPolicy.privacyPolicyAlwaysOn")||this.props.isEmbeddedMessenger)&&n&&this.renderPrivacyFooter())}},{key:"render",value:function(){var t=this;return null!=this.props.conversation&&this.props.allowFileUpload?e.createElement(U.a,{ref:function(e){return t.dropZone=e},className:b()(G.a["Composer-dropzone"],{floating:this.props.isEmbeddedMessenger,mobile:Object(q.d)()}),activeClassName:"active",activeStyle:{backgroundColor:Object(z.d)(this.props.activeColor,.05)},disableClick:!0,disablePreview:!0,onDrop:this.props.onUploadAttachment,style:this.props.isEmbeddedMessenger&&!Object(q.d)()?this.props.continuousBackgroundGradient:null},Object(q.b)()&&!this.isEmbeddedMessengerWithoutContent()?this.renderInlineMobileComposer():this.renderComposer()):e.createElement("div",{className:b()(G.a["Composer-container"],{floating:this.props.isEmbeddedMessenger,mobile:Object(q.d)()})},Object(q.b)()&&!this.isEmbeddedMessengerWithoutContent()?this.renderInlineMobileComposer():this.renderComposer())}}]),n}(J);ee.initClass();t.a=N()(H.a,Object(j.a)(["activeColor"]),Object(f.b)(function(e){return{currentConsentPolicy:D.d(e),showBranding:Object(S.s)(e),connectionStatus:Object(L.h)(e),isAway:!Object(F.t)(e),allowFileUpload:Object(S.b)(e),isEmbeddedMessenger:Object(B.h)(e),continuousBackgroundGradient:Object(B.d)(e),colorMode:Object(B.c)(e),hasContent:Object(B.j)(e),driftVideoMode:Object(F.s)(e)}},function(e){return{actions:Object(v.b)({bootstrapEndUser:x.a,iframeOverrideSize:V.iframeOverrideSize},e)}}))(ee)}).call(this,n(15))},1565:function(e,t,n){e.exports={circle:"_1fEBx2KRkQUavBCrS_OMEa",square:"DU-KE6hDXcBHdL-oXZxlK"}},1566:function(e,t,n){e.exports=n.p+"static/images/44969b53e9b2db079b34fc4c3c412e93.svg"},1568:function(e,t,n){e.exports={"presence-dot-outer":"_1JJtrhrGgcrA5hsaqyEe2S","presence-dot-inner":"_2tlfBfkADIKTI8up5MDhaE"}},1569:function(e,t){var n=function(e){return!!e.socialProfile},r=function(e){return n(e)&&"LEAD"==e.type},o=function(e){if(!e)return"";var t=e.name||e.email;return t||(r(e)?"Site Visitor":e.externalId)};e.exports={isEndUser:n,isLeadEndUser:r,getDisplayName:o,getInitials:function(e){if(e){var t=o(e);if(t)return function(e){return e.replace(/\s+/g," ")}(function(e){return e.replace(/[.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"")}(t.trim())).split(" ").splice(0,3).reduce(function(e,t){return t?e+t.substring(0,1):e},"")}}}},1570:function(e,t){e.exports='<svg width="13" height="13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><path d="M12.975.38c.014.043.02.087.024.132v.06c-.004.048-.014.095-.03.14-.006.017-.007.032-.014.046L7.252 12.692c-.09.19-.28.308-.49.308-.216-.002-.406-.127-.493-.32l-.537-3.41C5.56 8.18 4.55 7.1 3.478 6.86l-3.2-.72c-.18-.1-.287-.293-.277-.5.012-.206.138-.39.328-.47L12.248.04 12.3.026c.05-.015.098-.025.148-.026.02 0 .038 0 .058.003.046.004.09.013.132.028l.055.02c.056.027.11.06.154.107.053.053.085.11.11.168.008.018.013.036.018.055z" fill-rule="evenodd"></path></svg>'},1573:function(e,t,n){"use strict";var r=n(161),o=n.n(r),s=n(149),a=n.n(s),i=n(207),l=n.n(i),c=n(206),u=n.n(c),p=n(205),d=n.n(p),m=n(15),h=n.n(m),f=n(1542),v=n.n(f),g=n(1585),b=n(256),y=n(9),C=n(110),E=function(e){return Object(y.a)(e,["Attachment","status"])===C.d},P=n(1556),w=function(e){function t(e){a()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.renderMessage=function(){var e=n.props,t=e.isUploadInProgress,r=e.isUploadFailed,o=e.isSizeFailure,s=e.uploadNewFile;return t?h.a.createElement("div",{className:"attachment-upload-progress-message"},"Uploading attachment…"):r?h.a.createElement("div",{className:"attachment-upload-progress-message"},o?"Attachment upload failed because the file is larger than 25MB":"Attachment upload failed.",h.a.createElement("button",{className:"attachment-retry",onClick:s},"Upload new file")):void 0},n.renderActions=function(){return h.a.createElement("div",{className:"attachment-upload-progress-actions"},h.a.createElement("button",{className:"attachment-upload-progress-action dismiss",onClick:function(){return n.setState({dismissed:!0})}},h.a.createElement(v.a,{src:P})))},n.state={dismissed:!1},n}return d()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.isUploadInProgress===e.isUploadInProgress&&this.props.fileUploadFailed===e.fileUploadFailed||this.setState({dismissed:!1})}},{key:"render",value:function(){var e=this.props,t=e.isUploadInProgress,n=e.isUploadFailed;return!t&&!n||this.state.dismissed?null:h.a.createElement("div",{className:g.AttachmentUploadProgress},h.a.createElement("div",{className:n?"attachment-upload-failed":"attachment-upload-progress"},this.renderMessage(),this.renderActions()))}}]),t}(m.Component);t.a=Object(b.b)(function(e){return{isUploadInProgress:function(e){return Object(y.a)(e,["Attachment","status"])===C.e}(e),isUploadFailed:E(e),isSizeFailure:function(e){return E&&"AttachmentSizeException"===Object(y.a)(e,["Attachment","error","responseData","message"])}(e)}})(w)},1574:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="21" height="5" viewBox="0 0 21 5"><g fill="currentColor" fill-rule="evenodd"><circle cx="18.5" cy="2.5" r="2.5"></circle><circle cx="10.5" cy="2.5" r="2.5"></circle><circle cx="2.5" cy="2.5" r="2.5"></circle></g></svg>'},1576:function(e,t,n){e.exports={AgentActiveStatus:"F8BjuMV7BFSkqlBwI0zsp",ActivityIndicatorBadge:"_2xyq5z-M5Zoyu1OUc0xl7y","ActivityIndicatorBadge--online":"_2pIZiAEgg1lTbfQP6IO1k_","ActivityIndicatorBadge--offline":"_3dMilNAfU68JO46DQ8_qXH"}},1577:function(e,t,n){"use strict";var r=n(31);t.a=Object(r.h)({userStatusOnline:{id:"app.user.status.online",description:"Indicates a user is currently online",defaultMessage:"online now"},userStatusActive:{id:"app.user.status.active",description:"Indicates when a user was last active",defaultMessage:"active {time}"},userStatusOffline:{id:"app.user.status.offline",description:"Indicates a user is currently offline",defaultMessage:"offline now"}})},1578:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m});var r=n(4),o=n.n(r),s=n(15),a=n(31),i=(n(432),n(1577)),l=n(1576),c=n.n(l);s.PropTypes.string;var u=function(t){return e.createElement("div",{className:c.a.AgentActiveStatus,style:{color:t.foregroundColor}},t.children)};u.propTypes={children:s.PropTypes.node,foregroundColor:s.PropTypes.string};var p=function(t){var n=t.foregroundColor;return e.createElement(u,{foregroundColor:n},e.createElement(a.b,i.a.userStatusOnline))};p.propTypes={foregroundColor:s.PropTypes.string};var d=function(t){var n=t.time,r=t.foregroundColor;return e.createElement(u,{foregroundColor:r},e.createElement(a.b,o()({},i.a.userStatusActive,{values:{time:e.createElement(a.d,{value:n})}})))};d.propTypes={time:s.PropTypes.number.isRequired,foregroundColor:s.PropTypes.string};var m=function(t){var n=t.foregroundColor;return e.createElement(u,{foregroundColor:n},e.createElement(a.b,i.a.userStatusOffline))};m.propTypes={foregroundColor:s.PropTypes.string}}).call(this,n(15))},1579:function(e,t,n){"use strict";(function(e){var r=n(4),o=n.n(r),s=n(15),a=n(256),i=n(232),l=n(1578),c=n(151),u=n(5),p=n(16),d=n(1549),m={availability:s.PropTypes.oneOf([i.b.AVAILABLE,i.b.OFFLINE,i.b.ON_CALL]),lastActivityAt:s.PropTypes.number,foregroundColor:s.PropTypes.string},h=function(t){var n=t.lastActivityAt,r=t.foregroundColor,o=t.showOfflineStatus,s=void 0===o||o,a=t.showActiveStatus,i=void 0===a||a,c=Object(d.b)({lastActivityAt:n});return c===d.a.OFFLINE?s?e.createElement(l.b,{foregroundColor:r}):null:c===d.a.ONLINE?e.createElement(l.c,{foregroundColor:r}):i?e.createElement(l.a,{time:n,foregroundColor:r}):null};h.propTypes=m;var f=function(t){var n=t.lastActivityAt,r=t.availability,o=t.foregroundColor,s=t.showOfflineStatus,a=void 0===s||s,c=t.showActiveStatus,u=void 0===c||c;return r===i.b.ON_CALL||Object(d.d)(n)?e.createElement(l.c,{foregroundColor:o}):Object(d.c)(n)?a?e.createElement(l.b,{foregroundColor:o}):null:u?e.createElement(l.a,{time:n,foregroundColor:o}):null};f.propTypes=m;var v=function(t){var n=t.hasCentralizedRouting,r=t.availability,s=t.theme;if(!r)return null;var a=s.foregroundColor;return n?e.createElement(h,o()({},t,{foregroundColor:a})):e.createElement(f,o()({},t,{foregroundColor:a}))};v.propTypes=o()({},m,{hasCentralizedRouting:s.PropTypes.bool});t.a=Object(a.b)(function(e,t){var n=Object(c.a)(e,t);return{availability:n.availability,lastActivityAt:n.lastActivityAt,hasCentralizedRouting:Object(u.D)(e),theme:Object(p.t)(e)}})(v)}).call(this,n(15))},1581:function(e,t,n){e.exports=n.p+"static/images/7587bb75abdae4f7425b8f0e0557b0ba.png"},1583:function(e,t,n){e.exports={"Floating-label":"_3BEIiQ9DCWq97rtRUktK9","Composer-textarea":"_1eY_aSnr3MDhZqacV8fugZ","Floating-label-active":"KqiU_toLJ3BghlE7F1xZd","Floating-label-disabled":"rz7WRW5UQD-n8-nrAseQL",hasActiveBorderOnFocus:"QThEDgEDT1-11mx5ScY8H","Composer-textarea-light":"_1vLATdq-ZiHEm-4LKJQ9P2","Composer-textarea-video":"_3EyjgxzH98m8hdxNEowWY1","Floating-label-light":"_3zf_S5W16oIdPDDgp3yU71","Composer-footer":"_3U7UDl0salhAfnh_5cngat",Branding:"_3cFC78pAuQUUGXB0th8eZP","Composer-container":"_3MjPO4eA3iHgj5Z97ZyLgE","Composer-dropzone":"_1LQ2wLU8AfB3847pycmdlu",ComposerMenu:"otYMyT1psi9E8p7ZicXJ0"}},1585:function(e,t,n){e.exports={AttachmentUploadProgress:"_33TDt3NvX83jBkNZLft_M6"}},1587:function(e,t,n){e.exports={SendButton:"qrX9HNxW57u0nYVlv67Fb"}},1588:function(e,t,n){"use strict";(function(e){var r=n(161),o=n.n(r),s=n(149),a=n.n(s),i=n(207),l=n.n(i),c=n(206),u=n.n(c),p=n(205),d=n.n(p),m=n(15),h=n(1542),f=n.n(h),v=n(31),g=n(210),b=n(1547),y=n(1587),C=n.n(y),E=n(1570),P=function(t){function n(){var e,t,r,s;a()(this,n);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=r=u()(this,(e=n.__proto__||o()(n)).call.apply(e,[this].concat(l))),r.state={hover:!1},r.handleMouseEnter=function(){r.setState({hover:!0})},r.handleMouseLeave=function(){r.setState({hover:!1})},s=t,u()(r,s)}return d()(n,t),l()(n,[{key:"render",value:function(){var t=this.props,n=t.isAway,r=t.onClick;return e.createElement("button",{className:C.a.SendButton,style:{color:this.color},onClick:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e.createElement(f.a,{className:"flex",src:E}),e.createElement("span",null,n?e.createElement(v.b,b.b.composerLeaveMessage):e.createElement(v.b,b.b.composerSendMessage)))}},{key:"color",get:function(){var e=this.props.color;if(e)return this.state.hover?Object(g.a)(e,.2):e}}]),n}(m.Component);P.propTypes={color:m.PropTypes.string.isRequired,isAway:m.PropTypes.bool,onClick:m.PropTypes.func},P.defaultProps={isAway:!1},t.a=P}).call(this,n(15))},1589:function(e,t,n){"use strict";(function(e){var r=n(161),o=n.n(r),s=n(149),a=n.n(s),i=n(207),l=n.n(i),c=n(206),u=n.n(c),p=n(205),d=n.n(p),m=n(15),h=n(256),f=n(61),v=n(432),g=n.n(v),b=n(31),y=n(1557),C=n(70),E=n(5),P=n(183),w=function(t){var n=t.className,r=t.style,o=t.children;return e.createElement("div",{className:g()(n,"flex"),style:r},o)},T=function(t){var n=t.className,r=t.style;return e.createElement(w,{className:n,style:r},e.createElement(b.b,P.a.connected))},A=function(t){var n=t.className,r=t.style,o=t.dotSize;return e.createElement(w,{className:n,style:r},e.createElement(b.b,P.a.connecting),e.createElement(y.a,{size:o,color:"#ccc",style:{marginLeft:"3px"}}))},M=function(t){var n=t.className,r=t.style,o=t.onRetryClick;return e.createElement(w,{className:n,style:r},e.createElement(b.b,P.a.connectionFailed),e.createElement("a",{style:{marginLeft:"4px"},onClick:o},e.createElement(b.b,P.a.connectionRetry)))},k=function(t){function n(){var e,t,r,s;a()(this,n);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=r=u()(this,(e=n.__proto__||o()(n)).call.apply(e,[this].concat(l))),r.handleRetryClick=function(){r.props.actions.bootstrapEndUser()},s=t,u()(r,s)}return d()(n,t),l()(n,[{key:"render",value:function(){var t=this.props,n=t.className,r=t.style,o=t.status,s=t.dotSize;return"success"===o?e.createElement(T,{className:n,style:r}):"pending"===o?e.createElement(A,{className:n,style:r,dotSize:s}):e.createElement(M,{className:n,style:r,onRetryClick:this.handleRetryClick})}}]),n}(m.Component);k.propTypes={className:m.PropTypes.string,style:m.PropTypes.object,status:m.PropTypes.oneOf(["pending","failure","success"]).isRequired,dotSize:m.PropTypes.oneOf(["extra-small","small","medium"]),actions:m.PropTypes.shape({bootstrapEndUser:m.PropTypes.func.isRequired})},k.defaultProps={dotSize:"extra-small"};t.a=Object(h.b)(function(e){return{status:Object(E.h)(e)}},function(e){return{actions:Object(f.b)({bootstrapEndUser:C.a},e)}})(k)}).call(this,n(15))},1591:function(e,t,n){e.exports={EmojiPicker:"_6UgR56zBr73EKEfK2r-A9"}},1592:function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n(4),o=n.n(r),s=n(45),a=n.n(s),i=n(342),l=n.n(i),c=n(161),u=n.n(c),p=n(149),d=n.n(p),m=n(207),h=n.n(m),f=n(206),v=n.n(f),g=n(205),b=n.n(g),y=n(15),C=n.n(y),E=function(e){function t(){d()(this,t);var e=v()(this,(t.__proto__||u()(t)).apply(this,arguments));return e.state={isLoaded:!1},e}return b()(t,e),h()(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.load()}},{key:"componentDidUpdate",value:function(e){if(this.props.modules===e.modules)return null;this.load()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"load",value:function(){var e=this;this.setState({isLoaded:!1});var t=this.props.modules,n=l()(t);a.a.all(n.map(function(e){return t[e]()})).then(function(e){return n.reduce(function(t,n,r){return t[n]=e[r],t},{})}).then(function(t){if(!e._isMounted)return null;e.setState({modules:t,isLoaded:!0})})}},{key:"render",value:function(){return this.state.isLoaded?C.a.Children.only(this.props.children(this.state.modules)):null}}]),t}(C.a.Component);E.propTypes={children:C.a.PropTypes.func.isRequired};var P=function(e,t){return function(n){return C.a.createElement(E,{modules:t},function(t){return C.a.createElement(e,o()({},t,n))})}}},1593:function(e,t,n){"use strict";(function(e){var r=n(4),o=n.n(r),s=n(208),a=n.n(s),i=n(15),l=n(1592),c=n(1591),u=n.n(c),p=function(t){var n=t.Picker,r=t.onSelect,s=a()(t,["Picker","onSelect"]);return e.createElement("div",{className:u.a.EmojiPicker},e.createElement(n,o()({color:"#333333",onClick:r,emojiSize:20,sheetSize:20,title:""},s)))};p.propTypes={onSelect:i.PropTypes.func},t.a=Object(l.a)(p,{Picker:function(){return n.e(104).then(function(){var e=n(1641);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(e){return e.Picker})}})}).call(this,n(15))},1595:function(e,t,n){e.exports={Drawer:"_32On7MvQDqcYybZOg6WO19"}},1596:function(e,t,n){"use strict";(function(e){var r=n(15),o=n(1595),s=n.n(o),a=function(t){var n=t.isOpen,r=void 0!==n&&n,o=t.children;return e.createElement("div",{className:s.a.Drawer},r?o:null)};a.propTypes={isOpen:r.PropTypes.bool,children:r.PropTypes.node},t.a=a}).call(this,n(15))},1597:function(e,t){e.exports='<svg width="18" height="17" viewBox="0 0 18 17" xmlns="http://www.w3.org/2000/svg"><path d="M8.455 16.5c-.19 0-.378-.076-.522-.226-.29-.303-.29-.792 0-1.093l7.66-8.013c.57-.597.885-1.392.885-2.236 0-.844-.315-1.638-.886-2.235-1.18-1.233-3.097-1.232-4.275 0L2.433 11.99c-.5.525-.742 1.03-.715 1.502.026.46.303.815.467.985.275.29.573.41.908.364.42-.054.903-.356 1.398-.874l6.973-7.295c.288-.3.755-.3 1.043 0 .29.303.29.793 0 1.093l-6.97 7.296c-.74.773-1.5 1.215-2.26 1.314-.797.104-1.535-.175-2.135-.804-.537-.562-.856-1.267-.896-1.985-.054-.933.332-1.836 1.144-2.686l8.885-9.297c1.754-1.836 4.61-1.836 6.363 0 .85.888 1.318 2.07 1.318 3.328s-.468 2.44-1.318 3.33l-7.66 8.014c-.143.15-.332.226-.52.226z" fill-rule="evenodd"></path></svg>'},1599:function(e,t,n){e.exports={ComposerMenu:"I2Y_Gw71BZf3YTJx23Iu2",ComposerMenuItem:"_3S9isv8S9Biq6Z_VIUdDgW",Attachment:"_28Z4Rplsugcrb8Zz8n36Ix",EmojiIcon:"_2JwaxVSnbRscs1uFN1uSnk",ComposerMenuItemActive:"_28uG9Lj5itx52NpBHEPpWR",IconLight:"_285sI6udxotyNduLwF_LZn"}},1600:function(e,t,n){"use strict";(function(e){var r=n(10),o=n.n(r),s=n(15),a=n(432),i=n.n(a),l=n(1542),c=n.n(l),u=n(1599),p=n.n(u),d=n(1597),m=function(t){var n=t.color,r=t.floating,s=t.onClick,a=t.disabled,l=t.colorMode;return e.createElement("button",{tabIndex:"1001",className:i()(p.a.Attachment,{floating:r},o()({},p.a.IconLight,"LIGHT"===l||"VIDEO"===l)),style:{color:n},onClick:function(e){return!a&&s&&s(e)},disabled:a,"aria-label":"Send an attachment"},e.createElement(c.a,{className:"flex",src:d}))},h=function(t){var n=t.color,r=t.floating,s=t.onClick,a=t.disabled,l=t.width,c=void 0===l?18:l,u=t.height,d=void 0===u?18:u,m=t.colorMode;return e.createElement("button",{tabIndex:"-1",className:i()(p.a.EmojiIcon,o()({},p.a.IconLight,"LIGHT"===m||"VIDEO"===m),{floating:r}),style:{color:n},onClick:function(e){return!a&&s&&s(e)},disabled:a},e.createElement("svg",{preserveAspectRatio:"xMidYMid",viewBox:"0 0 24 24",style:{width:c,height:d}},e.createElement("path",{d:"M12 24C5.38 24 0 18.62 0 12S5.38 0 12 0s12 5.38 12 12-5.38 12-12 12zm0-22C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-2.9 0-5.56-1.75-6.9-4.57-.24-.5-.03-1.1.47-1.33.5-.24 1.1-.03 1.33.47C7.9 16.67 9.86 18 12 18c2.15 0 4.1-1.3 5.1-3.43.23-.5.83-.7 1.33-.47.5.23.7.83.47 1.33C17.58 18.25 14.93 20 12 20zm4-8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm-8 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})))},f=function(t){var n=t.isActive,r=void 0!==n&&n,s=t.children,a=t.ariaHidden,l=void 0!==a&&a;return e.createElement("li",{"aria-hidden":l,tabIndex:"-1",className:i()(p.a.ComposerMenuItem,o()({},p.a.ComposerMenuItemActive,r))},s)},v=function(t){var n=t.color,r=t.floating,o=t.allowAttachments,s=t.allowEmoji,a=t.onAttachmentClick,l=t.onEmojiClick,c=t.emojiDrawerActive,u=t.disabled,d=t.colorMode;return e.createElement("ul",{className:i()(p.a.ComposerMenu),"aria-label":""},o&&e.createElement(f,null,e.createElement(m,{color:n,onClick:a,disabled:u,floating:r,colorMode:d})),s&&e.createElement(f,{isActive:c,ariaHidden:!0},e.createElement(h,{color:n,onClick:l,disabled:u,floating:r,colorMode:d})))};v.propTypes={color:s.PropTypes.string.isRequired,floating:s.PropTypes.bool,allowAttachments:s.PropTypes.bool,allowEmoji:s.PropTypes.bool,onAttachmentClick:s.PropTypes.func,onEmojiClick:s.PropTypes.func,emojiDrawerActive:s.PropTypes.bool},t.a=v}).call(this,n(15))},1601:function(e,t,n){"use strict";var r=n(1571);r.linkify.add("ftp:",null),t.a=function(e){if(""===e)return"";var t=0,n=[];(r.linkify.match(e)||[]).forEach(function(r){r.index>t&&n.push(document.createTextNode(e.substring(t,r.index)));var o=document.createElement("a");o.setAttribute("href",r.url),o.setAttribute("target","_blank"),o.textContent=r.text,n.push(o),t=r.lastIndex}),t<e.length&&n.push(document.createTextNode(e.substring(t)));var o=document.createElement("span");return n.forEach(function(e){o.appendChild(e)}),o.outerHTML}},1604:function(e,t,n){"use strict";var r=n(161),o=n.n(r),s=n(149),a=n.n(s),i=n(207),l=n.n(i),c=n(206),u=n.n(c),p=n(205),d=n.n(p),m=n(15),h=n.n(m),f=n(3),v=n(10),g=n.n(v),b=n(4),y=n.n(b),C=n(208),E=n.n(C),P=n(432),w=n.n(P),T=n(1560),A=n(1550),M=n(1617),k=n.n(M),O=n(1579),I=function(e){var t=e.user,n=void 0===t?{}:t,r=e.backgroundColor,o=e.showPresence,s=void 0!==o&&o;return h.a.createElement("div",{className:k.a.AvatarWrapper},h.a.createElement(T.a,{user:n,color:r,style:{borderColor:r},shape:"circle",showPresence:s,hideOfflineStatus:!0,largePresenceDot:!0}))};function _(e){var t=e.children,n=E()(e,["children"]);return h.a.createElement("button",y()({},n,{onKeyDown:function(e){13!=e.which&&13!=e.keyCode||e.target.firstChild.click()},"aria-label":"See all conversations",className:k.a.MenuItem}),t)}function N(e){var t=e.children,n=E()(e,["children"]);return h.a.createElement("div",y()({className:k.a.Menu},n),h.a.createElement("div",{className:k.a.MenuItems},m.Children.map(t,function(e){return h.a.createElement(_,null,e)})))}function j(e){var t=e.children;return m.Children.count(t)>0&&h.a.createElement("div",{className:k.a.AvatarsList},m.Children.toArray(t).reverse())}I.propTypes={backgroundColor:m.PropTypes.string,user:m.PropTypes.object},_.propTypes={children:m.PropTypes.node},N.propTypes={children:m.PropTypes.node},j.propTypes={children:m.PropTypes.node};var x=function(e){function t(){var e,n,r,s;a()(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=u()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(l))),r.renderAvatar=function(e){var t=e.user,n=e.showPresence,o=t.id,s=t.publicProfileUrl,a={user:t,showPresence:n,backgroundColor:r.props.backgroundColor};return s?h.a.createElement("a",{key:o,tabIndex:"-1",href:s,target:"_blank"},h.a.createElement(I,a)):h.a.createElement(I,y()({key:o},a))},s=n,u()(r,s)}return d()(t,e),l()(t,[{key:"renderUserAvatars",value:function(){var e=this,t=this.props,n=t.users,r=t.showPresence;return!n||n.isEmpty()?null:1!==n.size||Object(A.b)(n.first())||n.first().bot?h.a.createElement(j,null,n.map(function(t){return e.renderAvatar({user:t,showPresence:r})})):null}},{key:"render",value:function(){var e=this.props,t=e.backgroundColor,n=e.foregroundColor,r=e.title,o=e.children,s=e.users,a=e.menu,i=e.showPresence,l=void 0!==i&&i,c=s&&!s.isEmpty(),u=s&&s.size>1;return h.a.createElement("div",{className:w()(k.a.Container,g()({},k.a.MultiAvatars,u)),style:{backgroundColor:t,color:n},role:"heading"},(c||r)&&h.a.createElement("div",{className:k.a.Header},h.a.createElement("div",{className:k.a.HeaderContent,"aria-label":"Visit profile"},this.renderUserAvatars(),h.a.createElement("div",{className:"title-and-status"},r&&h.a.createElement("div",{className:k.a.Title,style:{color:n}},r),!u&&l&&h.a.createElement(O.a,{agentId:s.first().id,showActiveStatus:!1,showOfflineStatus:!1}))),h.a.createElement(N,null,a)),h.a.createElement("div",{className:k.a.Body},o))}}]),t}(m.Component);x.propTypes={title:m.PropTypes.node,message:m.PropTypes.node,menu:m.PropTypes.node,children:m.PropTypes.node,users:m.PropTypes.object,backgroundColor:m.PropTypes.string,foregroundColor:m.PropTypes.string},x.defaultProps={users:Object(f.List)()};var S=x,D=n(1542),L=n.n(D),F=n(1615),B=n.n(F),z=n(1574),R=n(1637),U={onClick:m.PropTypes.func};function H(e,t,n){e&&void 0===t&&(t=e,e=null);var r=function(e){var n=e.className,r=e.style,o=e.onClick,s=E()(e,["className","style","onClick"]);return h.a.createElement(L.a,y()({},s,{style:r,className:w()(B.a.Icon,n),element:"div",onClick:o,src:t}))};return e&&(r.displayName="Icon("+e+")"),r.defaultProps=y()({},n),r.propTypes=y()({},U),r}var W=H("Profile",z),q=H("Dismiss",R,{className:B.a.DismissIcon,title:"dismiss"}),V=W,K=n(1613),Z=n(1610),G=n.n(Z),Q=function(e){function t(){return a()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"renderMenu",value:function(){var e=this.props,t=e.showProfileIcon,n=e.showDismissIcon,r=e.onProfileClick,o=e.onDismissClick;return[t&&h.a.createElement(V,{key:"profile",onClick:r}),n&&h.a.createElement(q,{key:"dismiss",onClick:o})].filter(Boolean)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.users,r=e.message,o=e.backgroundColor,s=e.foregroundColor,a=e.children,i=e.showPresence,l=void 0!==i&&i;return h.a.createElement("div",{className:G.a.Container,role:"dialog","aria-label":"Chat with Drift"},h.a.createElement(K.a,null,h.a.createElement(S,{title:t,users:n,backgroundColor:o,foregroundColor:s,menu:this.renderMenu(),showPresence:l},r),a))}}]),t}(m.Component);Q.propTypes={title:m.PropTypes.node,message:m.PropTypes.node,children:m.PropTypes.node,users:m.PropTypes.object,backgroundColor:m.PropTypes.string,foregroundColor:m.PropTypes.string,showProfileIcon:m.PropTypes.bool,onProfileClick:m.PropTypes.func,showDismissIcon:m.PropTypes.bool,onDismissClick:m.PropTypes.func},Q.defaultProps={users:Object(f.List)()};t.a=Q},1607:function(e,t,n){"use strict";var r=n(161),o=n.n(r),s=n(149),a=n.n(s),i=n(207),l=n.n(i),c=n(206),u=n.n(c),p=n(205),d=n.n(p),m=n(15),h=n.n(m),f=n(256),v=n(302),g=n.n(v),b=n(7),y=n(16),C=n(1547),E=n(1546),P=n(1625),w=n.n(P),T=function(e){function t(){return a()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.autoFocus,n=e.onMouseDown,r=e.style,o=e.showBranding,s=e.utmContent,a=e.placeholder;return h.a.createElement("div",{className:w.a.MobileComposer,onMouseDown:n,style:r},h.a.createElement("input",{placeholder:a,"aria-label":a,className:w.a.Input,autoFocus:t}),o&&h.a.createElement(E.a,{utmContent:s}))}}]),t}(m.Component);T.propTypes={placeholder:m.PropTypes.string,autoFocus:m.PropTypes.bool,onMouseDown:m.PropTypes.func,style:m.PropTypes.object,showBranding:m.PropTypes.bool,isAway:m.PropTypes.bool},T.defaultProps={isAway:!1,placeholder:"Type your message…",autoFocus:!1,showBranding:!1};var A=T,M=function(e){function t(){return a()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(A,this.props)}}]),t}(m.Component);t.a=g()(Object(f.b)(function(e){return{isAway:!Object(b.t)(e),showBranding:Object(y.s)(e)}}),C.a)(M)},1608:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(15),o=n.n(r),s=n(3);function a(e){var t=e.users,n=e.separator,r=Object(s.List)(t);return o.a.createElement("div",null,r.map(function(e){var t=e.id,n=e.name,r=e.publicProfileUrl;return r?o.a.createElement("a",{key:t,href:r,target:"_blank"},n):o.a.createElement("span",{key:t},n)}).interleave(r.map(function(e,t){return o.a.createElement("span",{key:"sep-"+t},n)})).butLast())}a.propTypes={users:r.PropTypes.object,separator:r.PropTypes.string},a.defaultProps={users:Object(s.List)(),separator:", "}},1610:function(e,t,n){e.exports={Container:"_1_OkBQ8wzMdsYC_9TqA1_1"}},1612:function(e,t,n){e.exports={WelcomeMessageCard:"_1b8HzQM8nmpP_VSMq7OnIz"}},1613:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var r=n(4),o=n.n(r),s=n(208),a=n.n(s),i=n(15),l=n(1612),c=n.n(l);function u(t){var n=t.children,r=a()(t,["children"]);return e.createElement("div",o()({className:c.a.WelcomeMessageCard},r),n)}u.propTypes={children:i.PropTypes.node}}).call(this,n(15))},1615:function(e,t,n){e.exports={Icon:"m9jUk9iUHZGwBFKeSwsl6",DismissIcon:"_1vgXyPPHy0LhWlp5E8zmnn"}},1617:function(e,t,n){e.exports={Container:"_3rFYHyeAg3meOhdz2al1n-",Header:"nU8iBIlb3Pnpdfah8T0xS",Body:"dp2Cn7rCPUkibY9nD2WFj",Title:"_3LgOTzOP49NkcKVg-VuAeA",Menu:"_1t1gRyGlfXe220eYtsZnFt",MenuItems:"_1cDOQdBdNV_UGt3VZw4UNU",MenuItem:"_1LsV8HQQ8Vayk_EI_Q5g-p",HeaderContent:"_1X08QP3Susvzc8-3v9gfn_",AvatarsList:"_26rE0K5J_Yqs69s-astsZ4",MultiAvatars:"_3lC_SnrooeO6smEP1P4Gig",AvatarWrapper:"_35gbWwd6NmCpOxwxnmjUkQ"}},1619:function(e,t,n){e.exports={TransitionGroup:"_1bqdrLsJSZt9zFJWH9azSb",Container:"_30us5AS2WYfPMXSfbW1-5E",WidgetButtonContainer:"BPdyB1KwQdtQbyI2ko2_3",WidgetButton:"_1xDOR96s4kIDrWxVqKC3m0"}},1620:function(e,t,n){"use strict";(function(e){var r=n(161),o=n.n(r),s=n(149),a=n.n(s),i=n(207),l=n.n(i),c=n(206),u=n.n(c),p=n(205),d=n.n(p),m=n(15),h=n(1563),f=n.n(h),v=n(1548),g=n.n(v),b=n(1562),y=n(1619),C=n.n(y),E=function(t){function n(){var e,t,r,s;a()(this,n);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=r=u()(this,(e=n.__proto__||o()(n)).call.apply(e,[this].concat(l))),r.handleResize=function(e){var t=e.width,n=e.height;r.props.onResize&&r.props.onResize({width:t,height:n})},s=t,u()(r,s)}return d()(n,t),l()(n,[{key:"render",value:function(){var t=this.props,n=t.children,r=t.onClick;return e.createElement(f.a,{onMeasure:this.handleResize,whitelist:["width","height"]},e.createElement("div",{className:C.a.Container},e.createElement(g.a,{className:C.a.TransitionGroup,transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:220,transitionEnterTimeout:220,transitionLeaveTimeout:220},e.createElement("div",{key:"widget-button",className:C.a.WidgetButtonContainer},e.createElement(b.a,{className:C.a.WidgetButton,iconType:n?"DISMISS":void 0,onClick:r})),n)))}}]),n}(m.PureComponent);E.propTypes={children:m.PropTypes.node,onResize:m.PropTypes.func,onClick:m.PropTypes.func},t.a=E}).call(this,n(15))},1622:function(e,t,n){e.exports={Container:"_2ngXYtlcHXA-EjBwuz_RKI",Transition:"_3KIigMno8L7h1L-RI5I_KX",WidgetButton:"_364Vk0R65B1GXViJwyA9fM"}},1623:function(e,t,n){"use strict";(function(e){var r=n(161),o=n.n(r),s=n(149),a=n.n(s),i=n(207),l=n.n(i),c=n(206),u=n.n(c),p=n(205),d=n.n(p),m=n(15),h=n(1563),f=n.n(h),v=n(1562),g=n(1548),b=n.n(g),y=n(1622),C=n.n(y),E=function(t){function n(){var e,t,r,s;a()(this,n);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=r=u()(this,(e=n.__proto__||o()(n)).call.apply(e,[this].concat(l))),r.handleResize=function(e){var t=e.width,n=e.height;r.props.onResize&&r.props.onResize({width:t,height:n})},s=t,u()(r,s)}return d()(n,t),l()(n,[{key:"render",value:function(){var t=this.props,n=t.children,r=t.onClick;return e.createElement(f.a,{onMeasure:this.handleResize,whitelist:["width","height"]},e.createElement("div",{className:C.a.Container},e.createElement(b.a,{className:C.a.Transition,style:{width:"100%"},transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:220,transitionEnterTimeout:220,transitionLeaveTimeout:220},n),e.createElement(v.a,{buttonId:this.props.buttonId,ariaMessage:this.props.ariaMessage,ariaHasPopup:this.props.ariaHasPopup,className:C.a.WidgetButton,iconType:n?"DISMISS":void 0,onClick:r})))}}]),n}(m.PureComponent);E.propTypes={children:m.PropTypes.node,onResize:m.PropTypes.func,onClick:m.PropTypes.func,ariaMessage:m.PropTypes.string,ariaHasPopup:m.PropTypes.string},t.a=E}).call(this,n(15))},1625:function(e,t,n){e.exports={MobileComposer:"_2Mj-GUkNW-VFx-Y8vO8iBU",Input:"_3mpwY9rd_nsVcik0oXWuzA"}},1631:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(531),o=/^[a-z\d]+$/,s=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,a=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,i=function(e){if(!e)return!1;var t=e.split("@"),n=t.pop(),i=t.join("@"),c=n.toLowerCase();if("gmail.com"===c||"googlemail.com"===c)for(var u=(i=i.toLowerCase()).split("+")[0].split("."),d=0;d<u.length;d++)if(!o.test(u[d]))return!1;if(i.length>64||n.length>254)return!1;if(!l(n)&&!p(n)){if(!Object(r.b)(n,"[")||!Object(r.a)(n,"]"))return!1;var m=n.substr(1,n.length-2);if(0===m.length||!p(m))return!1}if('"'===i[0])return i=i.slice(1,i.length-1),a.test(i);for(var h=s,f=i.split("."),v=0;v<f.length;v++)if(!h.test(f[v]))return!1;return!0},l=function(e){for(var t=e.split("."),n=0;n<t.length;n++)if(t[n].length>63)return!1;var r=t.pop();if(!t.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(r))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(r))return!1;for(var o,s=0;s<t.length;s++){if(o=t[s],!/^[a-z\u00a1-\uffff0-9-]+$/i.test(o))return!1;if(/[\uff01-\uff5e]/.test(o))return!1;if("-"===o[0]||"-"===o[o.length-1])return!1}return!0},c=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,u=/^[0-9A-F]{1,4}$/i,p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(n=String(n)))return e(t,4)||e(t,6);if("4"===n)return!!c.test(t)&&t.split(".").sort(function(e,t){return e-t})[3]<=255;if("6"===n){var r=t.split(":"),o=!1,s=e(r[r.length-1],4),a=s?7:8;if(r.length>a)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(r.shift(),r.shift(),o=!0):"::"===t.substr(t.length-2)&&(r.pop(),r.pop(),o=!0);for(var i=0;i<r.length;++i)if(""===r[i]&&i>0&&i<r.length-1){if(o)return!1;o=!0}else if(s&&i===r.length-1);else if(!u.test(r[i]))return!1;return o?r.length>=1:r.length===a}return!1}},1678:function(e,t){e.exports='<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M14.875 12.75H2.125C.953 12.75 0 11.797 0 10.625v-8.5C0 .953.953 0 2.125 0h12.75C16.047 0 17 .953 17 2.125v8.5c0 1.172-.953 2.125-2.125 2.125zm-12.75-1.417h12.75c.39 0 .708-.318.708-.708V2.27L8.945 7.633c-.13.105-.287.158-.445.158-.158 0-.315-.053-.445-.158L1.417 2.27v8.355c0 .39.318.708.708.708zm12.26-9.916H2.614L8.5 6.173l5.884-4.756z" fill="#CCC" fill-rule="evenodd"></path></svg>'},1765:function(e,t,n){e.exports={Form:"_1RZF2oOoMSrHbqfyfJycCL",Body:"_1KRtdPbS_KRGx5MzxXrHJY",Input:"_1XHHWJuwaCBjEeVyO_8ivL",Title:"_1p-B9iMcG2bC1ObqDZi2p8",SubmitButton:"_3M5mTrdRQcrgoxTsoKAXTL"}},1766:function(e,t,n){"use strict";(function(e){var r=n(161),o=n.n(r),s=n(149),a=n.n(s),i=n(207),l=n.n(i),c=n(206),u=n.n(c),p=n(205),d=n.n(p),m=n(15),h=n(432),f=n.n(h),v=n(1542),g=n.n(v),b=n(31),y=n(1631),C=n(183),E=n(1765),P=n.n(E),w=n(1678),T=function(t){function n(t){a()(this,n);var r=u()(this,(n.__proto__||o()(n)).call(this,t));return r.handleChange=function(e){r.setState({email:e.target.value})},r.handleSubmit=function(e){e.preventDefault(),r.isValid()?r.props.onSubmit&&r.props.onSubmit({email:r.state.email}):r.setState({error:!0})},r.isValid=function(){return!!r.state.email&&Object(y.a)(r.state.email)},r.renderLabel=function(){return r.state.error?e.createElement("label",{className:"dsg-Label--red"},e.createElement(b.b,C.a.invalidEmail)):e.createElement("label",{className:"dsg-Label--gray"},e.createElement(b.b,C.a.emailAddressInputLabel))},r.state={email:t.endUser&&t.endUser.email||"",error:void 0},r}return d()(n,t),l()(n,[{key:"componentDidMount",value:function(){if(this.inputNode){this.inputNode.focus();var e=this.inputNode.value;this.inputNode.value="",this.inputNode.value=e}}},{key:"render",value:function(){var t=this,n=this.props,r=n.backgroundColor,o=n.textColor,s=this.isValid();return e.createElement("form",{className:P.a.Form,onSubmit:this.handleSubmit},e.createElement("div",{className:P.a.Body},this.renderLabel(),e.createElement("div",{className:"flex",style:{marginTop:"8px"}},e.createElement(g.a,{className:"flex",src:w}),e.createElement("input",{ref:function(e){t.inputNode=e},className:f()("dsg-Body",P.a.Input),placeholder:"email@example.com",value:this.state.email,onChange:this.handleChange}))),e.createElement("button",{className:f()("flex-center",P.a.SubmitButton,{disabled:!s}),style:{backgroundColor:s?r:void 0,color:s?o:void 0}},e.createElement("span",{style:{textAlign:"center",width:"100%"}},e.createElement(b.b,C.a.submitButtonLabel))))}}]),n}(m.Component);T.renderTitle=function(){return e.createElement("div",{className:P.a.Title},e.createElement(b.b,C.a.asyncMessageContactPrompt))},t.a=T}).call(this,n(15))}}]);